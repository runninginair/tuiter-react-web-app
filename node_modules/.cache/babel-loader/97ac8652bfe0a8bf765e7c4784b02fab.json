{"ast":null,"code":"import _objectSpread from \"/Users/tylerzhang/2023/spring/webdev/tuiter-react-web-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport tuits from '../data/tuits.json';\nimport { useSelector } from \"react-redux\";\n// import React, { useState } from \"react\";\n\n// const currentUser = {                        // create an object that represents the currently\n//     \"userName\": \"Novak Djokovic\",            // logged in user which contains profile information\n//     \"handle\": \"@DjokerNole\",                 // such as username, their avatar logo, and handle.\n//     \"image\": \"Novak_400x400.jpeg\",           // Later this will come from users login in.\n// };\n\nvar currentUser = useSelector(function (state) {\n  return state.user;\n});\nvar templateTuit = _objectSpread({}, currentUser, {\n  // values and copy over the fields userName, handle and\n  \"topic\": \"Programing\",\n  // image from the currentUser\n  \"time\": \"1min\",\n  \"liked\": false,\n  \"replies\": 0,\n  \"retuits\": 0,\n  \"likes\": 0\n});\n\n// const user = useSelector((state) => state.user);\n// currentUser.userName = (user.firstName + \" \" + user.lastName);\n\nvar tuitsSlice = createSlice({\n  name: 'tuits',\n  initialState: tuits,\n  reducers: {\n    // add createTuit reducer function which appends\n    createTuit: function createTuit(state, action) {\n      // the new tuit in the payload at the beginning of the\n      state.unshift(_objectSpread({}, action.payload, templateTuit, {\n        // the unique identifier with a timestamp\n        _id: new Date().getTime()\n      }));\n    },\n    deleteTuit: function deleteTuit(state, action) {\n      var index = state.findIndex(function (tuit) {\n        return tuit._id === action.payload;\n      });\n      state.splice(index, 1);\n    },\n    likedToggle: function likedToggle(state, action) {\n      var tuit = state.find(function (tuit) {\n        return tuit._id === action.payload._id;\n      });\n      tuit.liked = !tuit.liked;\n    }\n  }\n});\nexport default tuitsSlice.reducer;\nvar _tuitsSlice$actions = tuitsSlice.actions,\n  createTuit = _tuitsSlice$actions.createTuit,\n  deleteTuit = _tuitsSlice$actions.deleteTuit,\n  likedToggle = _tuitsSlice$actions.likedToggle; // export reducer function\nexport { createTuit, deleteTuit, likedToggle };","map":{"version":3,"names":["createSlice","tuits","useSelector","currentUser","state","user","templateTuit","tuitsSlice","name","initialState","reducers","createTuit","action","unshift","payload","_id","Date","getTime","deleteTuit","index","findIndex","tuit","splice","likedToggle","find","liked","reducer","actions"],"sources":["/Users/tylerzhang/2023/spring/webdev/tuiter-react-web-app/src/tuiter/tuits/tuits-reducer.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport tuits from '../data/tuits.json';\nimport { useSelector } from \"react-redux\";\n// import React, { useState } from \"react\";\n\n// const currentUser = {                        // create an object that represents the currently\n//     \"userName\": \"Novak Djokovic\",            // logged in user which contains profile information\n//     \"handle\": \"@DjokerNole\",                 // such as username, their avatar logo, and handle.\n//     \"image\": \"Novak_400x400.jpeg\",           // Later this will come from users login in.\n// };\n\nconst currentUser = useSelector((state) => state.user);\n\n\nconst templateTuit = {                       // create a template tuit object with some default\n    ...currentUser,                          // values and copy over the fields userName, handle and\n    \"topic\": \"Programing\",                   // image from the currentUser\n    \"time\": \"1min\",\n    \"liked\": false,\n    \"replies\": 0,\n    \"retuits\": 0,\n    \"likes\": 0,\n}\n\n// const user = useSelector((state) => state.user);\n// currentUser.userName = (user.firstName + \" \" + user.lastName);\n\n\nconst tuitsSlice = createSlice(\n    {\n        name: 'tuits',\n        initialState: tuits,\n\n        reducers: {                                 // add createTuit reducer function which appends\n            createTuit(state, action) {             // the new tuit in the payload at the beginning of the\n                state.unshift({                     // array of tuits contained in the state. Also copy\n                    ...action.payload,              // all fields from templateTuit and initialize\n                    ...templateTuit,                // the unique identifier with a timestamp\n                    _id: (new Date()).getTime(),\n                })\n            },\n\n            deleteTuit(state, action) {\n                const index = state.findIndex(tuit =>\n                    tuit._id === action.payload);\n                state.splice(index, 1);\n            },\n\n            likedToggle(state, action) {\n                const tuit = state.find((tuit) =>\n                    tuit._id === action.payload._id);\n                tuit.liked = !tuit.liked;\n            }\n\n        }\n    }\n);\n\nexport default tuitsSlice.reducer;\nexport const { createTuit, deleteTuit, likedToggle } = tuitsSlice.actions;     // export reducer function"],"mappings":";AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,oBAAoB;AACtC,SAASC,WAAW,QAAQ,aAAa;AACzC;;AAEA;AACA;AACA;AACA;AACA;;AAEA,IAAMC,WAAW,GAAGD,WAAW,CAAC,UAACE,KAAK;EAAA,OAAKA,KAAK,CAACC,IAAI;AAAA,EAAC;AAGtD,IAAMC,YAAY,qBACXH,WAAW;EAA2B;EACzC,OAAO,EAAE,YAAY;EAAoB;EACzC,MAAM,EAAE,MAAM;EACd,OAAO,EAAE,KAAK;EACd,SAAS,EAAE,CAAC;EACZ,SAAS,EAAE,CAAC;EACZ,OAAO,EAAE;AAAC,EACb;;AAED;AACA;;AAGA,IAAMI,UAAU,GAAGP,WAAW,CAC1B;EACIQ,IAAI,EAAE,OAAO;EACbC,YAAY,EAAER,KAAK;EAEnBS,QAAQ,EAAE;IAAkC;IACxCC,UAAU,sBAACP,KAAK,EAAEQ,MAAM,EAAE;MAAc;MACpCR,KAAK,CAACS,OAAO,mBACND,MAAM,CAACE,OAAO,EACdR,YAAY;QAAiB;QAChCS,GAAG,EAAG,IAAIC,IAAI,EAAE,CAAEC,OAAO;MAAE,GAC7B;IACN,CAAC;IAEDC,UAAU,sBAACd,KAAK,EAAEQ,MAAM,EAAE;MACtB,IAAMO,KAAK,GAAGf,KAAK,CAACgB,SAAS,CAAC,UAAAC,IAAI;QAAA,OAC9BA,IAAI,CAACN,GAAG,KAAKH,MAAM,CAACE,OAAO;MAAA,EAAC;MAChCV,KAAK,CAACkB,MAAM,CAACH,KAAK,EAAE,CAAC,CAAC;IAC1B,CAAC;IAEDI,WAAW,uBAACnB,KAAK,EAAEQ,MAAM,EAAE;MACvB,IAAMS,IAAI,GAAGjB,KAAK,CAACoB,IAAI,CAAC,UAACH,IAAI;QAAA,OACzBA,IAAI,CAACN,GAAG,KAAKH,MAAM,CAACE,OAAO,CAACC,GAAG;MAAA,EAAC;MACpCM,IAAI,CAACI,KAAK,GAAG,CAACJ,IAAI,CAACI,KAAK;IAC5B;EAEJ;AACJ,CAAC,CACJ;AAED,eAAelB,UAAU,CAACmB,OAAO;AAAC,0BACqBnB,UAAU,CAACoB,OAAO;EAA1DhB,UAAU,uBAAVA,UAAU;EAAEO,UAAU,uBAAVA,UAAU;EAAEK,WAAW,uBAAXA,WAAW,EAA6B;AAAA"},"metadata":{},"sourceType":"module"}