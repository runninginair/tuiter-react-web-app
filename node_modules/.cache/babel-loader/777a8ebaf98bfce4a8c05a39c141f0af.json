{"ast":null,"code":"import _defineProperty from \"/Users/tylerzhang/2023/spring/webdev/tuiter-react-web-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/tylerzhang/2023/spring/webdev/tuiter-react-web-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _extraReducers;\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport tuits from '../data/tuits.json';\nimport { createTuitThunk, updateTuitThunk, findTuitsThunk, deleteTuitThunk } from \"../../services/tuits-thunks\"; // import the thunks\n\nvar initialState = {\n  // initial state has no tuits loading flag to display spinner\n  tuits: [],\n  loading: false\n};\nvar tuitsSlice = createSlice({\n  name: 'tuits',\n  initialState: initialState,\n  extraReducers: (_extraReducers = {}, _defineProperty(_extraReducers, deleteTuitThunk.fulfilled,\n  // handle successful response\n  function (state, _ref) {\n    var payload = _ref.payload;\n    // server response successful\n    state.loading = false; // payload from action contains tuit ID to remove\n    state.tuits = state.tuits // turn off loading flag\n    .filter(function (t) {\n      return t._id !== payload;\n    }); // filter out tuit whose ID matches tuit to remove\n  }), _defineProperty(_extraReducers, findTuitsThunk.pending, function (state) {\n    state.loading = true;\n    state.tuits = [];\n  }), _defineProperty(_extraReducers, findTuitsThunk.fulfilled, function (state, _ref2) {\n    var payload = _ref2.payload;\n    state.loading = false;\n    state.tuits = payload;\n  }), _defineProperty(_extraReducers, findTuitsThunk.rejected, function (state, action) {\n    state.loading = false;\n    state.error = action.error;\n  }), _defineProperty(_extraReducers, createTuitThunk.fulfilled, function (state, _ref3) {\n    var payload = _ref3.payload;\n    state.loading = false;\n    state.tuits.push(payload);\n  }), _defineProperty(_extraReducers, updateTuitThunk.fulfilled, function (state, _ref4) {\n    var payload = _ref4.payload;\n    state.loading = false;\n    var tuitNdx = state.tuits.findIndex(function (t) {\n      return t._id === payload._id;\n    });\n    state.tuits[tuitNdx] = _objectSpread({}, state.tuits[tuitNdx], payload);\n  }), _extraReducers),\n  reducers: {}\n});\n\n/**\n * Following code blocks are A7 version \"tuitsSlice\".\n */\n// const currentUser = {                        // create an object that represents the currently\n//     \"userName\": \"Novak Djokovic\",            // logged in user which contains profile information\n//     \"handle\": \"@DjokerNole\",                 // such as username, their avatar logo, and handle.\n//     \"image\": \"Novak_400x400.jpeg\",           // Later this will come from users login in.\n// };\n\n// const templateTuit = {                       // create a template tuit object with some default\n//     ...currentUser,                          // values and copy over the fields userName, handle and\n//     \"topic\": \"Programing\",                   // image from the currentUser\n//     \"time\": \"1min\",\n//     \"liked\": false,\n//     \"replies\": 0,\n//     \"retuits\": 0,\n//     \"likes\": 0,\n// }\n\n// const tuitsSlice = createSlice(\n//     {\n//         name: 'tuits',\n//         initialState: tuits,\n\n//         reducers: {                                 // add createTuit reducer function which appends\n//             createTuit(state, action) {             // the new tuit in the payload at the beginning of the\n//                 state.unshift({                     // array of tuits contained in the state. Also copy\n//                     ...action.payload,              // all fields from templateTuit and initialize\n//                     ...templateTuit,                // the unique identifier with a timestamp\n//                     _id: (new Date()).getTime(),\n//                 })\n//             },\n\n//             deleteTuit(state, action) {\n//                 const index = state.findIndex(tuit =>\n//                     tuit._id === action.payload);\n//                 state.splice(index, 1);\n//             },\n\n//             likedToggle(state, action) {\n//                 const tuit = state.find((tuit) =>\n//                     tuit._id === action.payload._id);\n//                 tuit.liked = !tuit.liked;\n//             }\n\n//         }\n//     }\n// );\n\nexport default tuitsSlice.reducer;\nvar _tuitsSlice$actions = tuitsSlice.actions,\n  createTuit = _tuitsSlice$actions.createTuit,\n  deleteTuit = _tuitsSlice$actions.deleteTuit,\n  likedToggle = _tuitsSlice$actions.likedToggle; // export reducer function\nexport { createTuit, deleteTuit, likedToggle };","map":{"version":3,"names":["createSlice","tuits","createTuitThunk","updateTuitThunk","findTuitsThunk","deleteTuitThunk","initialState","loading","tuitsSlice","name","extraReducers","fulfilled","state","payload","filter","t","_id","pending","rejected","action","error","push","tuitNdx","findIndex","reducers","reducer","actions","createTuit","deleteTuit","likedToggle"],"sources":["/Users/tylerzhang/2023/spring/webdev/tuiter-react-web-app/src/tuiter/tuits/tuits-reducer.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport tuits from '../data/tuits.json';\nimport { createTuitThunk, updateTuitThunk, findTuitsThunk, deleteTuitThunk }\n    from \"../../services/tuits-thunks\";   // import the thunks\n\n\nconst initialState = {          // initial state has no tuits loading flag to display spinner\n    tuits: [],\n    loading: false\n}\n\nconst tuitsSlice = createSlice({\n    name: 'tuits',\n    initialState,\n    extraReducers: {\n\n        [deleteTuitThunk.fulfilled]:                    // handle successful response\n            (state, { payload }) => {                   // server response successful\n                state.loading = false                   // payload from action contains tuit ID to remove\n                state.tuits = state.tuits               // turn off loading flag\n                    .filter(t => t._id !== payload)     // filter out tuit whose ID matches tuit to remove\n            },                                          // we're ignoring pending and rejected thunks\n\n        [findTuitsThunk.pending]:\n            (state) => {\n                state.loading = true\n                state.tuits = []\n            },\n        [findTuitsThunk.fulfilled]:\n            (state, { payload }) => {\n                state.loading = false\n                state.tuits = payload\n            },\n        [findTuitsThunk.rejected]:\n            (state, action) => {\n                state.loading = false\n                state.error = action.error\n            },\n\n        [createTuitThunk.fulfilled]:\n            (state, { payload }) => {\n                state.loading = false\n                state.tuits.push(payload)\n            },\n\n        [updateTuitThunk.fulfilled]:\n            (state, { payload }) => {\n                state.loading = false\n                const tuitNdx = state.tuits\n                    .findIndex((t) => t._id === payload._id)\n                state.tuits[tuitNdx] = {\n                    ...state.tuits[tuitNdx],\n                    ...payload\n                }\n            }\n\n    },\n    reducers: {}\n});\n\n/**\n * Following code blocks are A7 version \"tuitsSlice\".\n */\n// const currentUser = {                        // create an object that represents the currently\n//     \"userName\": \"Novak Djokovic\",            // logged in user which contains profile information\n//     \"handle\": \"@DjokerNole\",                 // such as username, their avatar logo, and handle.\n//     \"image\": \"Novak_400x400.jpeg\",           // Later this will come from users login in.\n// };\n\n// const templateTuit = {                       // create a template tuit object with some default\n//     ...currentUser,                          // values and copy over the fields userName, handle and\n//     \"topic\": \"Programing\",                   // image from the currentUser\n//     \"time\": \"1min\",\n//     \"liked\": false,\n//     \"replies\": 0,\n//     \"retuits\": 0,\n//     \"likes\": 0,\n// }\n\n// const tuitsSlice = createSlice(\n//     {\n//         name: 'tuits',\n//         initialState: tuits,\n\n//         reducers: {                                 // add createTuit reducer function which appends\n//             createTuit(state, action) {             // the new tuit in the payload at the beginning of the\n//                 state.unshift({                     // array of tuits contained in the state. Also copy\n//                     ...action.payload,              // all fields from templateTuit and initialize\n//                     ...templateTuit,                // the unique identifier with a timestamp\n//                     _id: (new Date()).getTime(),\n//                 })\n//             },\n\n//             deleteTuit(state, action) {\n//                 const index = state.findIndex(tuit =>\n//                     tuit._id === action.payload);\n//                 state.splice(index, 1);\n//             },\n\n//             likedToggle(state, action) {\n//                 const tuit = state.find((tuit) =>\n//                     tuit._id === action.payload._id);\n//                 tuit.liked = !tuit.liked;\n//             }\n\n//         }\n//     }\n// );\n\nexport default tuitsSlice.reducer;\nexport const { createTuit, deleteTuit, likedToggle } = tuitsSlice.actions;     // export reducer function"],"mappings":";;;AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,oBAAoB;AACtC,SAASC,eAAe,EAAEC,eAAe,EAAEC,cAAc,EAAEC,eAAe,QACjE,6BAA6B,CAAC,CAAG;;AAG1C,IAAMC,YAAY,GAAG;EAAW;EAC5BL,KAAK,EAAE,EAAE;EACTM,OAAO,EAAE;AACb,CAAC;AAED,IAAMC,UAAU,GAAGR,WAAW,CAAC;EAC3BS,IAAI,EAAE,OAAO;EACbH,YAAY,EAAZA,YAAY;EACZI,aAAa,wDAERL,eAAe,CAACM,SAAS;EAAsB;EAC5C,UAACC,KAAK,QAAkB;IAAA,IAAdC,OAAO,QAAPA,OAAO;IAA2B;IACxCD,KAAK,CAACL,OAAO,GAAG,KAAK,EAAmB;IACxCK,KAAK,CAACX,KAAK,GAAGW,KAAK,CAACX,KAAK,CAAe;IAAA,CACnCa,MAAM,CAAC,UAAAC,CAAC;MAAA,OAAIA,CAAC,CAACC,GAAG,KAAKH,OAAO;IAAA,EAAC,EAAK;EAC5C,CAAC,mCAEJT,cAAc,CAACa,OAAO,EACnB,UAACL,KAAK,EAAK;IACPA,KAAK,CAACL,OAAO,GAAG,IAAI;IACpBK,KAAK,CAACX,KAAK,GAAG,EAAE;EACpB,CAAC,mCACJG,cAAc,CAACO,SAAS,EACrB,UAACC,KAAK,SAAkB;IAAA,IAAdC,OAAO,SAAPA,OAAO;IACbD,KAAK,CAACL,OAAO,GAAG,KAAK;IACrBK,KAAK,CAACX,KAAK,GAAGY,OAAO;EACzB,CAAC,mCACJT,cAAc,CAACc,QAAQ,EACpB,UAACN,KAAK,EAAEO,MAAM,EAAK;IACfP,KAAK,CAACL,OAAO,GAAG,KAAK;IACrBK,KAAK,CAACQ,KAAK,GAAGD,MAAM,CAACC,KAAK;EAC9B,CAAC,mCAEJlB,eAAe,CAACS,SAAS,EACtB,UAACC,KAAK,SAAkB;IAAA,IAAdC,OAAO,SAAPA,OAAO;IACbD,KAAK,CAACL,OAAO,GAAG,KAAK;IACrBK,KAAK,CAACX,KAAK,CAACoB,IAAI,CAACR,OAAO,CAAC;EAC7B,CAAC,mCAEJV,eAAe,CAACQ,SAAS,EACtB,UAACC,KAAK,SAAkB;IAAA,IAAdC,OAAO,SAAPA,OAAO;IACbD,KAAK,CAACL,OAAO,GAAG,KAAK;IACrB,IAAMe,OAAO,GAAGV,KAAK,CAACX,KAAK,CACtBsB,SAAS,CAAC,UAACR,CAAC;MAAA,OAAKA,CAAC,CAACC,GAAG,KAAKH,OAAO,CAACG,GAAG;IAAA,EAAC;IAC5CJ,KAAK,CAACX,KAAK,CAACqB,OAAO,CAAC,qBACbV,KAAK,CAACX,KAAK,CAACqB,OAAO,CAAC,EACpBT,OAAO,CACb;EACL,CAAC,kBAER;EACDW,QAAQ,EAAE,CAAC;AACf,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,eAAehB,UAAU,CAACiB,OAAO;AAAC,0BACqBjB,UAAU,CAACkB,OAAO;EAA1DC,UAAU,uBAAVA,UAAU;EAAEC,UAAU,uBAAVA,UAAU;EAAEC,WAAW,uBAAXA,WAAW,EAA6B;AAAA"},"metadata":{},"sourceType":"module"}